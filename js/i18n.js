const translations = {
    'pt-BR': {
        // Login & Register
        'login-title': 'ENTRAR NA RINHA',
        'login-subtitle': 'Sua jornada épica começa aqui',
        'login-button': 'ENTRAR',
        'reg-title': 'NOVA CONTA',
        'reg-subtitle': 'Torne-se um mestre de galos',
        'login-lang-label': 'Idioma Preferido',
        
        // Selection
        'sel-title': 'RINHA EVOLUTION',
        'sel-subtitle': 'Mobile Edition',
        'sel-wallet': 'Carteira Digital',
        'sel-lineage': '1. Linhagem',
        'sel-paint': '2. Pintura',
        'sel-bet': '3. Valor da Aposta (RC)',
        'sel-start': 'SELECIONAR GALO',
        'sel-search': 'PROCURAR OPONENTE',
        'sel-balance-error': 'Saldo insuficiente! Recarregue sua carteira.',
        
        // Elements
        'el-fire': 'Fogo',
        'el-earth': 'Terra',
        'el-water': 'Água',
        'el-air': 'Ar',
        
        // Battle
        'btl-sorting': 'Sorteando Arena...',
        'btl-bonus': 'Bonus',
        'btl-vs': 'VS',
        
        // Arenas
        'arena-fire': 'Vulcânica',
        'arena-earth': 'Caverna',
        'arena-water': 'Lagoa',
        'arena-air': 'Pico Alto',
        
        // Result
        'res-victory': 'VITÓRIA!',
        'res-defeat': 'DERROTA',
        'res-draw': 'EMPATE!',
        'res-finance-title': 'Resultado Financeiro',
        'res-bet': 'Aposta',
        'res-prize': 'Prêmio',
        'res-profit': 'Lucro',
        'res-lost': 'Aposta perdida.',
        'res-refunded': 'Aposta devolvida.',
        'res-you': 'Você',
        'res-cpu': 'CPU',
        'res-play-again': 'Jogar Novamente',
        
        // Modals
        'mod-wallet-title': 'Carteira Digital',
        'mod-wallet-balance': 'Saldo Disponível',
        'mod-wallet-deposit': 'Depositar',
        'mod-wallet-withdraw': 'Sacar',
        'mod-rank-title': 'Histórico',
        'mod-rank-matches': 'Jogos',
        'mod-rank-wins': 'Vitórias',
        'mod-rank-profit': 'Lucro Recente',
        'mod-settings-title': 'Configurações',
        'mod-settings-sound': 'Sons',
        'mod-settings-reset': 'Resetar Conta',
        'mod-settings-close': 'Fechar',
        'mod-settings-lang': 'Idioma',
        
        // System
        'sys-reset-confirm': 'Zerar tudo (saldo volta para 1000)?',
        'sys-deposit-success': 'Depósito de $5.00 USD confirmado! +500 RC adicionados.',
        'sys-withdraw-soon': 'Funcionalidade de Saque em breve!',
        'sys-no-history': 'Sem histórico.',
        
        // Challenge
        'mod-share-title': 'DESAFIAR OPONENTE',
        'mod-share-subtitle': 'Envie este QR Code ou Link para um amigo',
        'mod-share-copy': 'Copiar Link',
        'mod-share-copied': 'Link Copiado!',
        'mod-share-challenge-received': 'DESAFIO RECEBIDO!',
        'mod-share-challenge-desc': 'Você foi desafiado por',
        'mod-share-accept': 'ACEITAR DESAFIO',
        'mod-share-ignore': 'IGNORAR',
        
        // Logs & Lab
        'nav-logs': 'Logs',
        'nav-lab': 'Laboratório',
        'logs-title': 'HISTÓRICO DE BATALHAS',
        'logs-subtitle': 'Revise seus combates e estratégias',
        'lab-title': 'LABORATÓRIO DE FUSÃO',
        'lab-subtitle': 'Combine DNA para criar galos lendários',
        
        // Skins
        'skin-none': 'Original',
        'skin-neon': 'Neon',
        'skin-gold': 'Dourado',
        'skin-ghost': 'Espectral',
        'skin-ruby': 'Rubi',
        'skin-shadow': 'Sombrio'
    },
    'en': {
        'login-title': 'ENTER THE RINHA',
        'login-subtitle': 'Your epic journey starts here',
        'login-button': 'LOGIN',
        'reg-title': 'NEW ACCOUNT',
        'reg-subtitle': 'Become a rooster master',
        'login-lang-label': 'Preferred Language',
        'sel-title': 'RINHA EVOLUTION',
        'sel-subtitle': 'Mobile Edition',
        'sel-wallet': 'Digital Wallet',
        'sel-lineage': '1. Lineage',
        'sel-paint': '2. Painting',
        'sel-bet': '3. Bet Value (RC)',
        'sel-start': 'SELECT ROOSTER',
        'sel-search': 'FIND OPPONENT',
        'sel-balance-error': 'Insufficient balance! Recharge your wallet.',
        'el-fire': 'Fire',
        'el-earth': 'Earth',
        'el-water': 'Water',
        'el-air': 'Air',
        'btl-sorting': 'Sorting Arena...',
        'btl-bonus': 'Bonus',
        'btl-vs': 'VS',
        'arena-fire': 'Volcanic',
        'arena-earth': 'Cave',
        'arena-water': 'Lagoon',
        'arena-air': 'High Peak',
        'res-victory': 'VICTORY!',
        'res-defeat': 'DEFEAT',
        'res-draw': 'DRAW!',
        'res-finance-title': 'Financial Result',
        'res-bet': 'Bet',
        'res-prize': 'Prize',
        'res-profit': 'Profit',
        'res-lost': 'Bet lost.',
        'res-refunded': 'Bet refunded.',
        'res-you': 'You',
        'res-cpu': 'CPU',
        'res-play-again': 'Play Again',
        'mod-wallet-title': 'Digital Wallet',
        'mod-wallet-balance': 'Available Balance',
        'mod-wallet-deposit': 'Deposit',
        'mod-wallet-withdraw': 'Withdraw',
        'mod-rank-title': 'History',
        'mod-rank-matches': 'Games',
        'mod-rank-wins': 'Wins',
        'mod-rank-profit': 'Recent Profit',
        'mod-settings-title': 'Settings',
        'mod-settings-sound': 'Sounds',
        'mod-settings-reset': 'Reset Account',
        'mod-settings-close': 'Close',
        'mod-settings-lang': 'Language',
        'sys-reset-confirm': 'Reset everything (balance returns to 1000)?',
        'sys-deposit-success': '$5.00 USD deposit confirmed! +500 RC added.',
        'sys-withdraw-soon': 'Withdrawal feature coming soon!',
        'sys-no-history': 'No history.',
        'mod-share-title': 'CHALLENGE OPPONENT',
        'mod-share-subtitle': 'Send this QR Code or Link to a friend',
        'mod-share-copy': 'Copy Link',
        'mod-share-copied': 'Link Copied!',
        'mod-share-challenge-received': 'CHALLENGE RECEIVED!',
        'mod-share-challenge-desc': 'You were challenged by',
        'mod-share-accept': 'ACCEPT CHALLENGE',
        'mod-share-ignore': 'IGNORE',

        // Logs & Lab
        'nav-logs': 'Logs',
        'nav-lab': 'Laboratory',
        'logs-title': 'BATTLE HISTORY',
        'logs-subtitle': 'Review your combats and strategies',
        'lab-title': 'FUSION LABORATORY',
        'lab-subtitle': 'Combine DNA to create legendary roosters',

        // Skins
        'skin-none': 'Original',
        'skin-neon': 'Neon',
        'skin-gold': 'Golden',
        'skin-ghost': 'Spectral',
        'skin-ruby': 'Ruby',
        'skin-shadow': 'Shadow'
    },
    'es': {
        'login-title': 'ENTRAR EN LA RINHA',
        'login-subtitle': 'Tu viaje épico comienza aquí',
        'login-button': 'ENTRAR',
        'reg-title': 'NUEVA CUENTA',
        'reg-subtitle': 'Conviértete en un maestro de gallos',
        'login-lang-label': 'Idioma Preferido',
        'sel-title': 'RINHA EVOLUTION',
        'sel-subtitle': 'Edición Móvil',
        'sel-wallet': 'Billetera Digital',
        'sel-lineage': '1. Linaje',
        'sel-paint': '2. Pintura',
        'sel-bet': '3. Valor de la Apuesta (RC)',
        'sel-start': 'SELECCIONAR GALLO',
        'sel-search': 'BUSCAR OPONENTE',
        'sel-balance-error': '¡Saldo insuficiente! Recarga tu billetera.',
        'el-fire': 'Fuego',
        'el-earth': 'Tierra',
        'el-water': 'Agua',
        'el-air': 'Aire',
        'btl-sorting': 'Sorteando Arena...',
        'btl-bonus': 'Bono',
        'btl-vs': 'VS',
        'arena-fire': 'Volcánica',
        'arena-earth': 'Cueva',
        'arena-water': 'Laguna',
        'arena-air': 'Pico Alto',
        'res-victory': '¡VICTORIA!',
        'res-defeat': 'DERROTA',
        'res-draw': '¡EMPATE!',
        'res-finance-title': 'Resultado Financiero',
        'res-bet': 'Apuesta',
        'res-prize': 'Premio',
        'res-profit': 'Ganancia',
        'res-lost': 'Apuesta perdida.',
        'res-refunded': 'Apuesta devuelta.',
        'res-you': 'Tú',
        'res-cpu': 'CPU',
        'res-play-again': 'Jugar de Nuevo',
        'mod-wallet-title': 'Billetera Digital',
        'mod-wallet-balance': 'Saldo Disponible',
        'mod-wallet-deposit': 'Depositar',
        'mod-wallet-withdraw': 'Retirar',
        'mod-rank-title': 'Historial',
        'mod-rank-matches': 'Juegos',
        'mod-rank-wins': 'Victorias',
        'mod-rank-profit': 'Ganancia Reciente',
        'mod-settings-title': 'Configuraciones',
        'mod-settings-sound': 'Sonidos',
        'mod-settings-reset': 'Reiniciar Cuenta',
        'mod-settings-close': 'Cerrar',
        'mod-settings-lang': 'Idioma',
        'sys-reset-confirm': '¿Reiniciar todo (el saldo vuelve a 1000)?',
        'sys-deposit-success': '¡Depósito de $5.00 USD confirmado! +500 RC añadidos.',
        'sys-withdraw-soon': '¡Funcionalidad de retiro próximamente!',
        'sys-no-history': 'Sin historial.',
        'mod-share-title': 'DESAFIAR OPONENTE',
        'mod-share-subtitle': 'Envía este QR Code o Link a un amigo',
        'mod-share-copy': 'Copiar Enlace',
        'mod-share-copied': '¡Enlace Copiado!',
        'mod-share-challenge-received': '¡DESAFÍO RECIBIDO!',
        'mod-share-challenge-desc': 'Fuiste desafiado por',
        'mod-share-accept': 'ACEPTAR DESAFÍO',
        'mod-share-ignore': 'IGNORAR',

        // Logs & Lab
        'nav-logs': 'Logs',
        'nav-lab': 'Laboratorio',
        'logs-title': 'HISTORIAL DE BATALLAS',
        'logs-subtitle': 'Revisa tus combates y estrategias',
        'lab-title': 'LABORATORIO DE FUSIÓN',
        'lab-subtitle': 'Combina ADN para crear gallos legendarios',

        // Skins
        'skin-none': 'Original',
        'skin-neon': 'Neón',
        'skin-gold': 'Dorado',
        'skin-ghost': 'Espectral',
        'skin-ruby': 'Rubí',
        'skin-shadow': 'Sombrío'
    }
};

export class I18n {
    constructor(defaultLang = 'pt-BR') {
        const stored = localStorage.getItem('rinha_lang');
        this.currentLang = (stored && translations[stored]) ? stored : defaultLang;
    }

    setLanguage(lang) {
        if (translations[lang]) {
            this.currentLang = lang;
            localStorage.setItem('rinha_lang', lang);
            this.updateUI();
        }
    }

    t(key) {
        if (!translations[this.currentLang]) return key;
        return translations[this.currentLang][key] || key;
    }

    updateUI() {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            const translation = this.t(key);
            
            if (el.tagName === 'INPUT') {
                el.placeholder = translation;
            } else {
                el.innerText = translation;
            }
        });
    }
}

export default new I18n();
